namespace Crypt {
	func encode(what: bin, algo: str = "base64"): str {
		fatal asm {
			copy move stack[-1]	-> register[0]
			copy move stack[-0]	-> register[1]
			call in crypt encode
		}
	}

	func decode(what: str, algo: str = "base64"): bin {
		fatal asm {
			copy move stack[-1]	-> register[0]
			copy move stack[-0]	-> register[1]
			call in crypt decode
		}
	}

	func encrypt(what: bin, key: str): bin {
		fatal asm {
			copy move stack[-1]	-> register[0]
			copy move stack[-0]	-> register[1]
			call in crypt encrypt
		}
	}

	func decrypt(what: bin, key: str): bin {
		fatal asm {
			copy move stack[-1]	-> register[0]
			copy move stack[-0]	-> register[1]
			call in crypt decrypt
		}
	}

	func hash(what: bin): bin {
		fatal asm {
			copy move stack[-0]	-> register[0]
			call in crypt hash
		}
	}
}
