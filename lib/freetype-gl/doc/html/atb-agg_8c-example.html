<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Freetype OpenGL: atb-agg.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="content"><!-- do not remove this div! -->
<div id="top"><!-- do not remove this div! -->
  <div id="titlearea">
    <div id="projectname">Freetype OpenGL</div>
    <div id="projectbrief">A high quality OpenGL text rendering engine for C</div>
  </div>
<!--
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Freetype OpenGL
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">A high quality OpenGL text rendering engine for C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
-->
<!-- Generated by Doxygen 1.9.5 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">atb-agg.c</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* Freetype GL - A C OpenGL Freetype engine</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Distributed under the OSI-approved BSD 2-Clause License.  See accompanying</span></div>
<div class="line"><span class="comment"> * file `LICENSE` for more details.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;freetype-gl.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="font-manager_8h.html">font-manager.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="vertex-buffer_8h.html">vertex-buffer.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="text-buffer_8h.html">text-buffer.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="markup_8h.html">markup.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;shader.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;mat4.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;screenshot-util.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;AntTweakBar.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;GLFW/glfw3.h&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------- typedef &amp; struct ---</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    VERA = 1,</div>
<div class="line">    VERA_MONO,</div>
<div class="line">    LUCKIEST_GUY,</div>
<div class="line">    SOURCE_SANS,</div>
<div class="line">    SOURCE_CODE,</div>
<div class="line">    OLD_STANDARD,</div>
<div class="line">    LOBSTER,</div>
<div class="line">} font_family_e;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define NUM_FONTS 7</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------- global variables ---</span></div>
<div class="line">TwBar *bar;</div>
<div class="line"> </div>
<div class="line"><a id="_a0" name="_a0"></a><a class="code hl_struct" href="structfont__manager__t.html">font_manager_t</a> * font_manager;</div>
<div class="line"><a class="code hl_struct" href="structfont__manager__t.html">font_manager_t</a> * font_manager_a;</div>
<div class="line"><a class="code hl_struct" href="structfont__manager__t.html">font_manager_t</a> * font_manager_rgb;</div>
<div class="line"> </div>
<div class="line"><a id="_a1" name="_a1"></a><a class="code hl_struct" href="structtext__buffer__t.html">text_buffer_t</a> * text_buffer;</div>
<div class="line"> </div>
<div class="line">GLuint text_shader;</div>
<div class="line"> </div>
<div class="line">mat4 model, view, projection;</div>
<div class="line"> </div>
<div class="line">font_family_e p_family;</div>
<div class="line"><span class="keywordtype">float</span> p_size;</div>
<div class="line"><span class="keywordtype">int</span> p_invert;</div>
<div class="line"><span class="keywordtype">int</span> p_kerning;</div>
<div class="line"><span class="keywordtype">int</span> p_hinting;</div>
<div class="line"><span class="keywordtype">int</span> p_lcd_filtering;</div>
<div class="line"><span class="keywordtype">float</span> p_gamma;</div>
<div class="line"><span class="keywordtype">float</span> p_interval;</div>
<div class="line"><span class="keywordtype">float</span> p_weight;</div>
<div class="line"><span class="keywordtype">float</span> p_width;</div>
<div class="line"><span class="keywordtype">float</span> p_faux_weight;</div>
<div class="line"><span class="keywordtype">float</span> p_faux_italic;</div>
<div class="line"><span class="keywordtype">float</span> p_primary;</div>
<div class="line"><span class="keywordtype">float</span> p_secondary;</div>
<div class="line"><span class="keywordtype">float</span> p_tertiary;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> text[] =</div>
<div class="line">    <span class="stringliteral">&quot;A single pixel on a color LCD is made of three colored elements \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;ordered (on various displays) either as blue, green, and red (BGR), \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;or as red, green, and blue (RGB). These pixel components, sometimes \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;called sub-pixels, appear as a single color to the human eye because \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;of blurring by the optics and spatial integration by nerve cells in &quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;the eye.\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;The resolution at which colored sub-pixels go unnoticed differs, \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;however, with each user some users are distracted by the colored \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\&quot;fringes\&quot; resulting from sub-pixel rendering. Subpixel rendering \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;is better suited to some display technologies than others. The \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;technology is well-suited to LCDs, but less so for CRTs. In a CRT \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;the light from the pixel components often spread across pixels, \n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;and the outputs of adjacent pixels are not perfectly independent.&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ----------------------------------------------------------- build_buffer ---</span></div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">build_buffer( <span class="keywordtype">void</span> )</div>
<div class="line">{</div>
<div class="line">    <a id="_a2" name="_a2"></a><a class="code hl_union" href="unionvec2.html">vec2</a> pen;</div>
<div class="line">    <a id="_a3" name="_a3"></a><a class="code hl_struct" href="structtexture__font__t.html">texture_font_t</a> *font;</div>
<div class="line">    <a id="_a4" name="_a4"></a><a class="code hl_union" href="unionvec4.html">vec4</a> black  = {{0.0, 0.0, 0.0, 1.0}};</div>
<div class="line">    <a class="code hl_union" href="unionvec4.html">vec4</a> white  = {{1.0, 1.0, 1.0, 1.0}};</div>
<div class="line">    <a class="code hl_union" href="unionvec4.html">vec4</a> none   = {{1.0, 1.0, 1.0, 0.0}};</div>
<div class="line">    <a class="code hl_union" href="unionvec4.html">vec4</a> color = white;</div>
<div class="line">    <span class="keywordflow">if</span>( p_invert )</div>
<div class="line">    {</div>
<div class="line">        color = black;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a id="_a5" name="_a5"></a><a class="code hl_struct" href="structmarkup__t.html">markup_t</a> markup = {</div>
<div class="line">        .<a id="a6" name="a6"></a><a class="code hl_variable" href="structmarkup__t.html#adcb67782935faf6178ef7afde350ca2a">family</a>  = <span class="stringliteral">&quot;Source Sans Pro&quot;</span>,</div>
<div class="line">        .size    = 10.0,</div>
<div class="line">        .bold    = 0,</div>
<div class="line">        .italic  = 0,</div>
<div class="line">        .spacing = p_interval,</div>
<div class="line">        .gamma   = p_gamma,</div>
<div class="line">        .foreground_color    = color,</div>
<div class="line">        .background_color    = none,</div>
<div class="line">        .underline           = 0,</div>
<div class="line">        .underline_color     = color,</div>
<div class="line">        .overline            = 0,</div>
<div class="line">        .overline_color      = color,</div>
<div class="line">        .strikethrough       = 0,</div>
<div class="line">        .strikethrough_color = color,</div>
<div class="line">        .font = 0,</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a id="a7" name="a7"></a><a class="code hl_function" href="group__text-buffer.html#ga69afa8b4e27b15fe420a529b5a9bec53">text_buffer_clear</a>( text_buffer );</div>
<div class="line">    <a id="_a8" name="_a8"></a><a class="code hl_struct" href="structtexture__atlas__t.html">texture_atlas_t</a> * atlas = font_manager-&gt;<a id="a9" name="a9"></a><a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>;</div>
<div class="line">    <a id="a10" name="a10"></a><a class="code hl_function" href="group__texture-atlas.html#gafc00ed05e30dd34ed70f6d775e441845">texture_atlas_clear</a>( atlas );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( p_family == VERA)</div>
<div class="line">    {</div>
<div class="line">        font = <a id="a11" name="a11"></a><a class="code hl_function" href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a>( atlas, p_size, <span class="stringliteral">&quot;fonts/Vera.ttf&quot;</span> );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p_family == VERA_MONO)</div>
<div class="line">    {</div>
<div class="line">        font = <a class="code hl_function" href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a>( atlas, p_size, <span class="stringliteral">&quot;fonts/VeraMono.ttf&quot;</span> );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p_family == LUCKIEST_GUY)</div>
<div class="line">    {</div>
<div class="line">        font = <a class="code hl_function" href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a>( atlas, p_size, <span class="stringliteral">&quot;fonts/LuckiestGuy.ttf&quot;</span> );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p_family == SOURCE_SANS )</div>
<div class="line">    {</div>
<div class="line">        font = <a class="code hl_function" href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a>( atlas, p_size, <span class="stringliteral">&quot;fonts/SourceSansPro-Regular.ttf&quot;</span> );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p_family == SOURCE_CODE )</div>
<div class="line">    {</div>
<div class="line">        font = <a class="code hl_function" href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a>( atlas, p_size, <span class="stringliteral">&quot;fonts/SourceCodePro-Regular.ttf&quot;</span> );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p_family == OLD_STANDARD )</div>
<div class="line">    {</div>
<div class="line">        font = <a class="code hl_function" href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a>( atlas, p_size, <span class="stringliteral">&quot;fonts/OldStandard-Regular.ttf&quot;</span> );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p_family == LOBSTER )</div>
<div class="line">    {</div>
<div class="line">        font = <a class="code hl_function" href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a>( atlas, p_size, <span class="stringliteral">&quot;fonts/Lobster-Regular.ttf&quot;</span> );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        fprintf( stderr, <span class="stringliteral">&quot;Error : Unknown family type\n&quot;</span> );</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!font)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">    markup.<a id="a12" name="a12"></a><a class="code hl_variable" href="structmarkup__t.html#a5c61d3d8f7da003b885a413780240318">font</a> = font;</div>
<div class="line">    font-&gt;<a id="a13" name="a13"></a><a class="code hl_variable" href="structtexture__font__t.html#a4f72a3a3dfca4fe583bfbd74d5d1d46c">hinting</a> = p_hinting;</div>
<div class="line">    font-&gt;<a id="a14" name="a14"></a><a class="code hl_variable" href="structtexture__font__t.html#a232ba1e61f2cb37a7af1429e5c90a2b3">kerning</a> = p_kerning;</div>
<div class="line">    font-&gt;<a id="a15" name="a15"></a><a class="code hl_variable" href="structtexture__font__t.html#a02135c3a35d47a9584f3fc08001cde3e">filtering</a> = 1;</div>
<div class="line">    <span class="keywordtype">float</span> norm = 1.0/(p_primary + 2*p_secondary + 2*p_tertiary);</div>
<div class="line">    font-&gt;<a id="a16" name="a16"></a><a class="code hl_variable" href="structtexture__font__t.html#a6d2347450ec91e7148d211b21aed05d4">lcd_weights</a>[0] = (<span class="keywordtype">unsigned</span> char)(p_tertiary*norm*255);</div>
<div class="line">    font-&gt;<a class="code hl_variable" href="structtexture__font__t.html#a6d2347450ec91e7148d211b21aed05d4">lcd_weights</a>[1] = (<span class="keywordtype">unsigned</span> char)(p_secondary*norm*255);</div>
<div class="line">    font-&gt;<a class="code hl_variable" href="structtexture__font__t.html#a6d2347450ec91e7148d211b21aed05d4">lcd_weights</a>[2] = (<span class="keywordtype">unsigned</span> char)(p_primary*norm*255);</div>
<div class="line">    font-&gt;<a class="code hl_variable" href="structtexture__font__t.html#a6d2347450ec91e7148d211b21aed05d4">lcd_weights</a>[3] = (<span class="keywordtype">unsigned</span> char)(p_secondary*norm*255);</div>
<div class="line">    font-&gt;<a class="code hl_variable" href="structtexture__font__t.html#a6d2347450ec91e7148d211b21aed05d4">lcd_weights</a>[4] = (<span class="keywordtype">unsigned</span> char)(p_tertiary*norm*255);</div>
<div class="line">    pen.<a id="a17" name="a17"></a><a class="code hl_variable" href="unionvec2.html#a002d3519d48fe3cd79729b5b0ded74bf">x</a> = 10;</div>
<div class="line">    pen.<a id="a18" name="a18"></a><a class="code hl_variable" href="unionvec2.html#a6d28b12b511da692550fc9d37b4e9b1d">y</a> = 600 - font-&gt;<a id="a19" name="a19"></a><a class="code hl_variable" href="structtexture__font__t.html#a8bd92ddb4c8e456aac6a21f6c268b360">height</a> - 10;</div>
<div class="line">    <a id="a20" name="a20"></a><a class="code hl_function" href="group__text-buffer.html#gabedbb9b1ad170e17545d2144bca1cca1">text_buffer_printf</a>( text_buffer, &amp;pen, &amp;markup, text, NULL );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Post-processing for width and orientation</span></div>
<div class="line">    <a id="_a21" name="_a21"></a><a class="code hl_struct" href="structvertex__buffer__t.html">vertex_buffer_t</a> * vbuffer = text_buffer-&gt;<a id="a22" name="a22"></a><a class="code hl_variable" href="structtext__buffer__t.html#a1d13ea520cd74f396f67b3b3ab844c58">buffer</a>;</div>
<div class="line">    <span class="keywordtype">size_t</span> i;</div>
<div class="line">    <span class="keywordflow">for</span>( i=0; i &lt; <a id="a23" name="a23"></a><a class="code hl_function" href="group__vector.html#ga0103842074bb797fc685b33c0629c05a">vector_size</a>( vbuffer-&gt;<a id="a24" name="a24"></a><a class="code hl_variable" href="structvertex__buffer__t.html#aba48b4d0cd079739d4a89d3c3f29a187">items</a> ); ++i )</div>
<div class="line">    {</div>
<div class="line">        <a id="_a25" name="_a25"></a><a class="code hl_union" href="unionivec4.html">ivec4</a> *item = (<a class="code hl_union" href="unionivec4.html">ivec4</a> *) <a id="a26" name="a26"></a><a class="code hl_function" href="group__vector.html#gad9f12b6dade3126fa6782d6afb4fe8d4">vector_get</a>( vbuffer-&gt;<a class="code hl_variable" href="structvertex__buffer__t.html#aba48b4d0cd079739d4a89d3c3f29a187">items</a>, i);</div>
<div class="line">        <a id="_a27" name="_a27"></a><a class="code hl_struct" href="structglyph__vertex__t.html">glyph_vertex_t</a> * v0 = <span class="comment">/* x0,y0 */</span></div>
<div class="line">            (<a class="code hl_struct" href="structglyph__vertex__t.html">glyph_vertex_t</a> *) <a class="code hl_function" href="group__vector.html#gad9f12b6dade3126fa6782d6afb4fe8d4">vector_get</a>( vbuffer-&gt;<a id="a28" name="a28"></a><a class="code hl_variable" href="structvertex__buffer__t.html#a54efd077fb2990b3679d060baaa021ec">vertices</a>, item-&gt;<a id="a29" name="a29"></a><a class="code hl_variable" href="unionivec4.html#ab87cbb6ef39b1e8a38ad067e69685035">vstart</a>+0 );</div>
<div class="line">        <span class="comment">//glyph_vertex_t * v1 = /* x0,y1 */</span></div>
<div class="line">        <span class="comment">//    (glyph_vertex_t *) vector_get( vbuffer-&gt;vertices, item-&gt;vstart+1 );</span></div>
<div class="line">        <a class="code hl_struct" href="structglyph__vertex__t.html">glyph_vertex_t</a> * v2 = <span class="comment">/* x1,y1 */</span></div>
<div class="line">            (<a class="code hl_struct" href="structglyph__vertex__t.html">glyph_vertex_t</a> *) <a class="code hl_function" href="group__vector.html#gad9f12b6dade3126fa6782d6afb4fe8d4">vector_get</a>( vbuffer-&gt;<a class="code hl_variable" href="structvertex__buffer__t.html#a54efd077fb2990b3679d060baaa021ec">vertices</a>, item-&gt;<a class="code hl_variable" href="unionivec4.html#ab87cbb6ef39b1e8a38ad067e69685035">vstart</a>+2 );</div>
<div class="line">        <a class="code hl_struct" href="structglyph__vertex__t.html">glyph_vertex_t</a> * v3 = <span class="comment">/* x1,y0 */</span></div>
<div class="line">            (<a class="code hl_struct" href="structglyph__vertex__t.html">glyph_vertex_t</a> *) <a class="code hl_function" href="group__vector.html#gad9f12b6dade3126fa6782d6afb4fe8d4">vector_get</a>( vbuffer-&gt;<a class="code hl_variable" href="structvertex__buffer__t.html#a54efd077fb2990b3679d060baaa021ec">vertices</a>, item-&gt;<a class="code hl_variable" href="unionivec4.html#ab87cbb6ef39b1e8a38ad067e69685035">vstart</a>+3 );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">float</span> x0 = v0-&gt;<a id="a30" name="a30"></a><a class="code hl_variable" href="structglyph__vertex__t.html#a3144c24728ef9455facb38874a59e613">x</a>, y0 = v0-&gt;<a id="a31" name="a31"></a><a class="code hl_variable" href="structglyph__vertex__t.html#af619460c34acc4ef05987e7ab94b0827">y</a>;</div>
<div class="line">        <span class="keywordtype">float</span> x1 = v2-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#a3144c24728ef9455facb38874a59e613">x</a>, y1 = v2-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#af619460c34acc4ef05987e7ab94b0827">y</a>;</div>
<div class="line">        v2-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#a3144c24728ef9455facb38874a59e613">x</a> = v3-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#a3144c24728ef9455facb38874a59e613">x</a> = x0 + (x1-x0)*p_width;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">float</span> dy = fabs(y1-y0);</div>
<div class="line">        <span class="keywordtype">float</span> dx = tan(p_faux_italic/180.0 * M_PI) * dy;</div>
<div class="line">        v0-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#a3144c24728ef9455facb38874a59e613">x</a> += dx;</div>
<div class="line">        v0-&gt;<a id="a32" name="a32"></a><a class="code hl_variable" href="structglyph__vertex__t.html#aadf4dd4b66e92b7cf7d518f55a31475b">shift</a> = fmod(v0-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#aadf4dd4b66e92b7cf7d518f55a31475b">shift</a> + dx-(<span class="keywordtype">int</span>)(dx),1.0);</div>
<div class="line">        v3-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#a3144c24728ef9455facb38874a59e613">x</a> += dx;</div>
<div class="line">        v3-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#aadf4dd4b66e92b7cf7d518f55a31475b">shift</a> = fmod(v3-&gt;<a class="code hl_variable" href="structglyph__vertex__t.html#aadf4dd4b66e92b7cf7d518f55a31475b">shift</a> + dx-(<span class="keywordtype">int</span>)(dx),1.0);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    glBindTexture( GL_TEXTURE_2D, font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a id="a33" name="a33"></a><a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line">    GLenum gl_format = (font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a id="a34" name="a34"></a><a class="code hl_variable" href="structtexture__atlas__t.html#a099b3a476240070bc06248218c9e230c">depth</a> == <a id="a35" name="a35"></a><a class="code hl_define" href="text-buffer_8h.html#abd50406866c6d3953be0f0203dc6da6b">LCD_FILTERING_OFF</a>) ?</div>
<div class="line">        GL_RED : GL_RGB;</div>
<div class="line">    glTexImage2D( GL_TEXTURE_2D, 0, gl_format, font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a id="a36" name="a36"></a><a class="code hl_variable" href="structtexture__atlas__t.html#aa1fb802d48b70dc43e06e88f55f986aa">width</a>,</div>
<div class="line">        font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a id="a37" name="a37"></a><a class="code hl_variable" href="structtexture__atlas__t.html#a724b0e35c619f88b231eba83c39095cb">height</a>, 0, gl_format, GL_UNSIGNED_BYTE,</div>
<div class="line">        font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a id="a38" name="a38"></a><a class="code hl_variable" href="structtexture__atlas__t.html#a80f633ead9dbf1fb0c49503324f30753">data</a> );</div>
<div class="line"> </div>
<div class="line">    <a id="a39" name="a39"></a><a class="code hl_function" href="group__texture-font.html#gaa894ab1def90197eaad58b578e7a2440">texture_font_delete</a>( font );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------------------- quit ---</span></div>
<div class="line"><span class="keywordtype">void</span> reset( <span class="keywordtype">void</span> )</div>
<div class="line">{</div>
<div class="line">    p_family    = VERA;</div>
<div class="line">    p_size      = 12.0;</div>
<div class="line">    p_invert    = 0;</div>
<div class="line">    p_kerning   = 1;</div>
<div class="line">    p_hinting   = 1;</div>
<div class="line">    p_lcd_filtering = 1;</div>
<div class="line">    p_gamma     = 1.75;</div>
<div class="line">    p_interval  = 0.0;</div>
<div class="line">    p_weight    = 0.33;</div>
<div class="line">    p_width     = 1.0;</div>
<div class="line">    p_faux_weight = 0.0;</div>
<div class="line">    p_faux_italic = 0.0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// FT_LCD_FILTER_LIGHT</span></div>
<div class="line">    p_primary   = 1.0/3.0;</div>
<div class="line">    p_secondary = 1.0/3.0;</div>
<div class="line">    p_tertiary  = 0.0/3.0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// FT_LCD_FILTER_DEFAULT</span></div>
<div class="line">    <span class="comment">// p_primary   = 3.0/9.0;</span></div>
<div class="line">    <span class="comment">// p_secondary = 2.0/9.0;</span></div>
<div class="line">    <span class="comment">// p_tertiary  = 1.0/9.0;</span></div>
<div class="line"> </div>
<div class="line">    build_buffer();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------------------- quit ---</span></div>
<div class="line"><span class="keywordtype">void</span> quit( <span class="keywordtype">void</span>* client_data )</div>
<div class="line">{</div>
<div class="line">    GLFWwindow* window = (GLFWwindow*)client_data;</div>
<div class="line">    glfwSetWindowShouldClose( window, GL_TRUE );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------------ get/set int ---</span></div>
<div class="line"><span class="keywordtype">void</span> TW_CALL set_int( <span class="keyword">const</span> <span class="keywordtype">void</span> *value, <span class="keywordtype">void</span> *data )</div>
<div class="line">{</div>
<div class="line">    *(<span class="keywordtype">int</span> *)data = *(<span class="keyword">const</span> <span class="keywordtype">int</span> *) value;</div>
<div class="line">    build_buffer();</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> TW_CALL get_int( <span class="keywordtype">void</span> *value, <span class="keywordtype">void</span> *data )</div>
<div class="line">{</div>
<div class="line">    *(<span class="keywordtype">int</span> *)value = *(<span class="keywordtype">int</span> *)data;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ---------------------------------------------------------- get/set float ---</span></div>
<div class="line"><span class="keywordtype">void</span> TW_CALL set_float( <span class="keyword">const</span> <span class="keywordtype">void</span> *value, <span class="keywordtype">void</span> *data )</div>
<div class="line">{</div>
<div class="line">    *(<span class="keywordtype">float</span> *) data = *(<span class="keyword">const</span> <span class="keywordtype">float</span> *) value;</div>
<div class="line">    build_buffer();</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> TW_CALL get_float( <span class="keywordtype">void</span> *value, <span class="keywordtype">void</span> *data )</div>
<div class="line">{</div>
<div class="line">    *(<span class="keywordtype">float</span> *) value = *(<span class="keyword">const</span> <span class="keywordtype">float</span> *) data;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -------------------------------------------------- get/set lcd_filtering ---</span></div>
<div class="line"><span class="keywordtype">void</span> TW_CALL set_lcd_filtering( <span class="keyword">const</span> <span class="keywordtype">void</span> *value, <span class="keywordtype">void</span> *data )</div>
<div class="line">{</div>
<div class="line">    p_lcd_filtering = *(<span class="keyword">const</span> <span class="keywordtype">int</span> *) value;</div>
<div class="line">    <span class="keywordflow">if</span>( p_lcd_filtering )</div>
<div class="line">    {</div>
<div class="line">        font_manager = font_manager_rgb;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        font_manager = font_manager_a;</div>
<div class="line">    }</div>
<div class="line">    build_buffer();</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> TW_CALL get_lcd_filtering( <span class="keywordtype">void</span> *value, <span class="keywordtype">void</span> *data )</div>
<div class="line">{</div>
<div class="line">    *(<span class="keywordtype">int</span> *)value = p_lcd_filtering;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------------------- init ---</span></div>
<div class="line"><span class="keywordtype">void</span> init( GLFWwindow* window )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Create a new tweak bar</span></div>
<div class="line">    bar = TwNewBar(<span class="stringliteral">&quot;TweakBar&quot;</span>);</div>
<div class="line">    TwDefine(<span class="stringliteral">&quot;GLOBAL &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;help = &#39;This example shows how to tune all font parameters.&#39; &quot;</span>);</div>
<div class="line">    TwDefine(<span class="stringliteral">&quot;TweakBar                      &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;size          = &#39;280 400&#39;     &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;position      = &#39;500 20&#39;      &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;color         = &#39;127 127 127&#39; &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;alpha         = 240           &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;label         = &#39;Parameters&#39;  &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;resizable     = True          &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;fontresizable = True          &quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;iconifiable   = True          &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    {</div>
<div class="line">        TwEnumVal familyEV[NUM_FONTS] = {</div>
<div class="line">            {VERA,         <span class="stringliteral">&quot;Vera&quot;</span>},</div>
<div class="line">            {VERA_MONO,    <span class="stringliteral">&quot;Vera Mono&quot;</span>},</div>
<div class="line">            {LUCKIEST_GUY, <span class="stringliteral">&quot;Luckiest Guy&quot;</span>},</div>
<div class="line">            {SOURCE_SANS,  <span class="stringliteral">&quot;Source Sans Pro&quot;</span>},</div>
<div class="line">            {SOURCE_CODE,  <span class="stringliteral">&quot;Source Code Pro&quot;</span>},</div>
<div class="line">            {OLD_STANDARD, <span class="stringliteral">&quot;Old Standard TT&quot;</span>},</div>
<div class="line">            {LOBSTER,      <span class="stringliteral">&quot;Lobster&quot;</span>} };</div>
<div class="line">        TwType family_type = TwDefineEnum(<span class="stringliteral">&quot;Family&quot;</span>, familyEV, NUM_FONTS);</div>
<div class="line">        TwAddVarCB(bar, <span class="stringliteral">&quot;Family&quot;</span>, family_type, set_int, get_int, &amp;p_family,</div>
<div class="line">                   <span class="stringliteral">&quot;label = &#39;Family&#39;      &quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;group = &#39;Font&#39;        &quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;help  = &#39; &#39;           &quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Size&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_size,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Size&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Font&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = 6.0    &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   = 24.0   &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.05   &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;    &quot;</span>);</div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;LCD filtering&quot;</span>, TW_TYPE_BOOL32, set_lcd_filtering, get_lcd_filtering, NULL,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;LCD filtering&#39; &quot;</span></div>
<div class="line">              <span class="stringliteral">&quot;group = &#39;Font&#39;        &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;             &quot;</span>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Rendering</span></div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Kerning&quot;</span>, TW_TYPE_BOOL32, set_int, get_int, &amp;p_kerning,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Kerning&#39;   &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Rendering&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;         &quot;</span>);</div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Hinting&quot;</span>, TW_TYPE_BOOL32, set_int, get_int, &amp;p_hinting,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Hinting&#39;   &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Rendering&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;         &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Color</span></div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Invert&quot;</span>, TW_TYPE_BOOL32, set_int, get_int, &amp;p_invert,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Invert&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Color&#39;  &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;      &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Glyph</span></div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Width&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_width,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Width&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Glyph&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = 0.75    &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   = 1.25    &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.01    &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;     &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Interval&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_interval,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Spacing&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Glyph&#39;   &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = -0.2      &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   = 0.2       &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.01      &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;       &quot;</span> );</div>
<div class="line"> </div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Faux italic&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_faux_italic,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Faux italic&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Glyph&#39;       &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = -30.0         &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   =  30.0         &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.1           &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;           &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Energy distribution</span></div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Primary&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_primary,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Primary weight&#39;      &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Energy distribution&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = 0                     &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   = 1                     &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.01                  &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;                   &quot;</span> );</div>
<div class="line"> </div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Secondary&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_secondary,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Secondy weight&#39;      &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Energy distribution&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = 0                     &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   = 1                     &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.01                  &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;                   &quot;</span> );</div>
<div class="line"> </div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Tertiary&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_tertiary,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Tertiary weight&#39;      &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Energy distribution&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = 0                     &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   = 1                     &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.01                  &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;                   &quot;</span> );</div>
<div class="line"> </div>
<div class="line">    TwAddSeparator(bar, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                   <span class="stringliteral">&quot;group = &#39;Energy distribution&#39; &quot;</span> );</div>
<div class="line"> </div>
<div class="line">    TwAddVarCB(bar, <span class="stringliteral">&quot;Gamma&quot;</span>, TW_TYPE_FLOAT, set_float, get_float, &amp;p_gamma,</div>
<div class="line">               <span class="stringliteral">&quot;label = &#39;Gamma correction&#39;    &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;group = &#39;Energy distribution&#39; &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;min   = 0.50                  &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;max   = 2.5                   &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;step  = 0.01                  &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;help  = &#39; &#39;                   &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    TwAddSeparator(bar, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    TwAddButton(bar, <span class="stringliteral">&quot;Reset&quot;</span>, (TwButtonCallback) reset, NULL,</div>
<div class="line">                <span class="stringliteral">&quot;help=&#39;Reset all parameters to default values.&#39;&quot;</span>);</div>
<div class="line">    TwAddSeparator(bar, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    TwAddButton(bar, <span class="stringliteral">&quot;Quit&quot;</span>, (TwButtonCallback) quit, window,</div>
<div class="line">                <span class="stringliteral">&quot;help=&#39;Quit.&#39;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    text_shader = shader_load( <span class="stringliteral">&quot;shaders/text.vert&quot;</span>,</div>
<div class="line">                               <span class="stringliteral">&quot;shaders/text.frag&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    font_manager_a = <a id="a40" name="a40"></a><a class="code hl_function" href="group__font-manager.html#ga757a75a24dccd3bb0cd285b8e7e21733">font_manager_new</a>( 512, 512, <a class="code hl_define" href="text-buffer_8h.html#abd50406866c6d3953be0f0203dc6da6b">LCD_FILTERING_OFF</a> );</div>
<div class="line">    font_manager_rgb = <a class="code hl_function" href="group__font-manager.html#ga757a75a24dccd3bb0cd285b8e7e21733">font_manager_new</a>( 512, 512, <a id="a41" name="a41"></a><a class="code hl_define" href="text-buffer_8h.html#aeb06e08fcb145b25caf33204ae04c7b7">LCD_FILTERING_ON</a> );</div>
<div class="line">    font_manager = font_manager_rgb;</div>
<div class="line"> </div>
<div class="line">    text_buffer = <a id="a42" name="a42"></a><a class="code hl_function" href="group__text-buffer.html#ga838e53cf8ca603291ef1814e7f6f6f0c">text_buffer_new</a>( );</div>
<div class="line"> </div>
<div class="line">    glGenTextures( 1, &amp;font_manager_a-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line">    glBindTexture( GL_TEXTURE_2D, font_manager_a-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR );</div>
<div class="line"> </div>
<div class="line">    glGenTextures( 1, &amp;font_manager_rgb-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line">    glBindTexture( GL_TEXTURE_2D, font_manager_rgb-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR );</div>
<div class="line">    glTexParameteri( GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR );</div>
<div class="line"> </div>
<div class="line">    reset();</div>
<div class="line"> </div>
<div class="line">    mat4_set_identity( &amp;projection );</div>
<div class="line">    mat4_set_identity( &amp;model );</div>
<div class="line">    mat4_set_identity( &amp;view );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ---------------------------------------------------------------- display ---</span></div>
<div class="line"><span class="keywordtype">void</span> display( GLFWwindow* window )</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>( !p_invert )</div>
<div class="line">    {</div>
<div class="line">        glClearColor( 0, 0, 0, 1 );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        glClearColor( 1, 1, 1, 1 );</div>
<div class="line">    }</div>
<div class="line">    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );</div>
<div class="line"> </div>
<div class="line">    glUseProgram( text_shader );</div>
<div class="line">    {</div>
<div class="line">        glUniformMatrix4fv( glGetUniformLocation( text_shader, <span class="stringliteral">&quot;model&quot;</span> ),</div>
<div class="line">                            1, 0, model.data);</div>
<div class="line">        glUniformMatrix4fv( glGetUniformLocation( text_shader, <span class="stringliteral">&quot;view&quot;</span> ),</div>
<div class="line">                            1, 0, view.data);</div>
<div class="line">        glUniformMatrix4fv( glGetUniformLocation( text_shader, <span class="stringliteral">&quot;projection&quot;</span> ),</div>
<div class="line">                            1, 0, projection.data);</div>
<div class="line">        glUniform1i( glGetUniformLocation( text_shader, <span class="stringliteral">&quot;tex&quot;</span> ), 0 );</div>
<div class="line">        glUniform3f( glGetUniformLocation( text_shader, <span class="stringliteral">&quot;pixel&quot;</span> ),</div>
<div class="line">                     1.0f/font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#aa1fb802d48b70dc43e06e88f55f986aa">width</a>,</div>
<div class="line">                     1.0f/font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a724b0e35c619f88b231eba83c39095cb">height</a>,</div>
<div class="line">                     (<span class="keywordtype">float</span>)font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a099b3a476240070bc06248218c9e230c">depth</a> );</div>
<div class="line"> </div>
<div class="line">        glEnable( GL_BLEND );</div>
<div class="line"> </div>
<div class="line">        glActiveTexture( GL_TEXTURE0 );</div>
<div class="line">        glBindTexture( GL_TEXTURE_2D, font_manager-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line"> </div>
<div class="line">        glBlendFunc( GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA );</div>
<div class="line"> </div>
<div class="line">        <a id="a43" name="a43"></a><a class="code hl_function" href="group__vertex-buffer.html#ga15748e713c679f8a8cc1c4292a044049">vertex_buffer_render</a>( text_buffer-&gt;<a class="code hl_variable" href="structtext__buffer__t.html#a1d13ea520cd74f396f67b3b3ab844c58">buffer</a>, GL_TRIANGLES );</div>
<div class="line">        glBindTexture( GL_TEXTURE_2D, 0 );</div>
<div class="line">        glUseProgram( 0 );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    TwDraw( );</div>
<div class="line">    glfwSwapBuffers( window );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ---------------------------------------------------------------- reshape ---</span></div>
<div class="line"><span class="keywordtype">void</span> reshape( GLFWwindow* window, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height )</div>
<div class="line">{</div>
<div class="line">    glViewport(0, 0, width, height);</div>
<div class="line">    mat4_set_orthographic( &amp;projection, 0, width, 0, height, -1, 1);</div>
<div class="line">    TwWindowSize( width, height );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------------- cursor_pos ---</span></div>
<div class="line"><span class="keywordtype">void</span> cursor_pos( GLFWwindow* window, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y )</div>
<div class="line">{</div>
<div class="line">    TwMouseMotion( x, y );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ----------------------------------------------------------- mouse_button ---</span></div>
<div class="line"><span class="keywordtype">void</span> mouse_button( GLFWwindow* window, <span class="keywordtype">int</span> button, <span class="keywordtype">int</span> action, <span class="keywordtype">int</span> mods)</div>
<div class="line">{</div>
<div class="line">    TwMouseAction tw_action;</div>
<div class="line">    TwMouseButtonID tw_button;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_RELEASE == action )</div>
<div class="line">    {</div>
<div class="line">        tw_action = TW_MOUSE_RELEASED;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        tw_action = TW_MOUSE_PRESSED;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (button)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span> GLFW_MOUSE_BUTTON_LEFT:</div>
<div class="line">            tw_button = TW_MOUSE_LEFT;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> GLFW_MOUSE_BUTTON_MIDDLE:</div>
<div class="line">            tw_button = TW_MOUSE_MIDDLE;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> GLFW_MOUSE_BUTTON_RIGHT:</div>
<div class="line">            tw_button = TW_MOUSE_RIGHT;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    TwMouseButton( tw_action, tw_button );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// --------------------------------------------------------------- keyboard ---</span></div>
<div class="line"><span class="keywordtype">void</span> keyboard( GLFWwindow* window, <span class="keywordtype">int</span> key, <span class="keywordtype">int</span> scancode, <span class="keywordtype">int</span> action, <span class="keywordtype">int</span> mods )</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> tw_key = 0;</div>
<div class="line">    <span class="keywordtype">int</span> tw_mods = TW_KMOD_NONE;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( action != GLFW_PRESS )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// those map to the corresponding number ascii code</span></div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_0 &lt;= key &amp;&amp; key &lt;= GLFW_KEY_9 )</div>
<div class="line">    {</div>
<div class="line">        tw_key = key;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// those map to the corresponding upper case ascii code</span></div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_A &lt;= key &amp;&amp; key &lt;= GLFW_KEY_Z )</div>
<div class="line">    {</div>
<div class="line">        tw_key = key;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_PERIOD == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_BACKSPACE == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = TW_KEY_BACKSPACE;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_DELETE == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = TW_KEY_DELETE;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_LEFT == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = TW_KEY_LEFT;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_RIGHT == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = TW_KEY_RIGHT;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_UP == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = TW_KEY_UP;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_DOWN == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = TW_KEY_DOWN;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( GLFW_KEY_ENTER == key )</div>
<div class="line">    {</div>
<div class="line">        tw_key = TW_KEY_RETURN;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( GLFW_MOD_SHIFT &amp; mods )</div>
<div class="line">    {</div>
<div class="line">        tw_mods |= TW_KMOD_SHIFT;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( GLFW_MOD_CONTROL &amp; mods )</div>
<div class="line">    {</div>
<div class="line">        tw_mods |= TW_KMOD_CTRL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( GLFW_MOD_ALT &amp; mods )</div>
<div class="line">    {</div>
<div class="line">        tw_mods |= TW_KMOD_ALT;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    TwKeyPressed( tw_key, tw_mods );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// --------------------------------------------------------- error-callback ---</span></div>
<div class="line"><span class="keywordtype">void</span> error_callback( <span class="keywordtype">int</span> error, <span class="keyword">const</span> <span class="keywordtype">char</span>* description )</div>
<div class="line">{</div>
<div class="line">    fputs( description, stderr );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// ------------------------------------------------------------------- main ---</span></div>
<div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv )</div>
<div class="line">{</div>
<div class="line">    GLFWwindow* window;</div>
<div class="line">    <span class="keywordtype">char</span>* screenshot_path = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (argc &gt; 1)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (argc == 3 &amp;&amp; 0 == strcmp( <span class="stringliteral">&quot;--screenshot&quot;</span>, argv[1] ))</div>
<div class="line">            screenshot_path = argv[2];</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            fprintf( stderr, <span class="stringliteral">&quot;Unknown or incomplete parameters given\n&quot;</span> );</div>
<div class="line">            exit( EXIT_FAILURE );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    glfwSetErrorCallback( error_callback );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!glfwInit( ))</div>
<div class="line">    {</div>
<div class="line">        exit( EXIT_FAILURE );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    glfwWindowHint( GLFW_VISIBLE, GL_FALSE );</div>
<div class="line">    glfwWindowHint( GLFW_RESIZABLE, GL_FALSE );</div>
<div class="line"> </div>
<div class="line">    window = glfwCreateWindow( 800, 600, argv[0], NULL, NULL );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!window)</div>
<div class="line">    {</div>
<div class="line">        glfwTerminate( );</div>
<div class="line">        exit( EXIT_FAILURE );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    glfwMakeContextCurrent( window );</div>
<div class="line">    glfwSwapInterval( 1 );</div>
<div class="line"> </div>
<div class="line">    TwInit( TW_OPENGL, NULL );</div>
<div class="line"> </div>
<div class="line">    glfwSetFramebufferSizeCallback( window, reshape );</div>
<div class="line">    glfwSetWindowRefreshCallback( window, display );</div>
<div class="line">    glfwSetCursorPosCallback( window, cursor_pos );</div>
<div class="line">    glfwSetMouseButtonCallback( window, mouse_button );</div>
<div class="line">    glfwSetKeyCallback( window, keyboard );</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef __APPLE__</span></div>
<div class="line">    GLenum err = glewInit();</div>
<div class="line">    <span class="keywordflow">if</span> (GLEW_OK != err)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* Problem: glewInit failed, something is seriously wrong. */</span></div>
<div class="line">        fprintf( stderr, <span class="stringliteral">&quot;Error: %s\n&quot;</span>, glewGetErrorString(err) );</div>
<div class="line">        exit( EXIT_FAILURE );</div>
<div class="line">    }</div>
<div class="line">    fprintf( stderr, <span class="stringliteral">&quot;Using GLEW %s\n&quot;</span>, glewGetString(GLEW_VERSION) );</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    init( window );</div>
<div class="line"> </div>
<div class="line">    glfwShowWindow( window );</div>
<div class="line">    reshape( window, 800, 600 );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(!glfwWindowShouldClose( window ))</div>
<div class="line">    {</div>
<div class="line">        display( window );</div>
<div class="line">        glfwPollEvents( );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (screenshot_path)</div>
<div class="line">        {</div>
<div class="line">            screenshot( window, screenshot_path );</div>
<div class="line">            glfwSetWindowShouldClose( window, 1 );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    TwTerminate();</div>
<div class="line"> </div>
<div class="line">    glDeleteProgram( text_shader );</div>
<div class="line">    glDeleteTextures( 1, &amp;font_manager_a-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line">    glDeleteTextures( 1, &amp;font_manager_rgb-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> );</div>
<div class="line">    font_manager_a-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> = 0;</div>
<div class="line">    font_manager_rgb-&gt;<a class="code hl_variable" href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">atlas</a>-&gt;<a class="code hl_variable" href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">id</a> = 0;</div>
<div class="line">    <a id="a44" name="a44"></a><a class="code hl_function" href="group__font-manager.html#gab691d11fa02e2409f6f224f42a753b15">font_manager_delete</a>( font_manager_rgb );</div>
<div class="line">    <a class="code hl_function" href="group__font-manager.html#gab691d11fa02e2409f6f224f42a753b15">font_manager_delete</a>( font_manager_a );</div>
<div class="line">    <a id="a45" name="a45"></a><a class="code hl_function" href="group__text-buffer.html#gad0f2b6b38f8cf0933f66112ff4d4118b">text_buffer_delete</a>( text_buffer );</div>
<div class="line"> </div>
<div class="line">    glfwDestroyWindow( window );</div>
<div class="line">    glfwTerminate( );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="afont-manager_8h_html"><div class="ttname"><a href="font-manager_8h.html">font-manager.h</a></div></div>
<div class="ttc" id="agroup__font-manager_html_ga757a75a24dccd3bb0cd285b8e7e21733"><div class="ttname"><a href="group__font-manager.html#ga757a75a24dccd3bb0cd285b8e7e21733">font_manager_new</a></div><div class="ttdeci">font_manager_t * font_manager_new(size_t width, size_t height, size_t depth)</div><div class="ttdoc">Creates a new empty font manager.</div></div>
<div class="ttc" id="agroup__font-manager_html_gab691d11fa02e2409f6f224f42a753b15"><div class="ttname"><a href="group__font-manager.html#gab691d11fa02e2409f6f224f42a753b15">font_manager_delete</a></div><div class="ttdeci">void font_manager_delete(font_manager_t *self)</div><div class="ttdoc">Deletes a font manager.</div></div>
<div class="ttc" id="agroup__text-buffer_html_ga69afa8b4e27b15fe420a529b5a9bec53"><div class="ttname"><a href="group__text-buffer.html#ga69afa8b4e27b15fe420a529b5a9bec53">text_buffer_clear</a></div><div class="ttdeci">void text_buffer_clear(text_buffer_t *self)</div><div class="ttdoc">Clear text buffer.</div></div>
<div class="ttc" id="agroup__text-buffer_html_ga838e53cf8ca603291ef1814e7f6f6f0c"><div class="ttname"><a href="group__text-buffer.html#ga838e53cf8ca603291ef1814e7f6f6f0c">text_buffer_new</a></div><div class="ttdeci">text_buffer_t * text_buffer_new(void)</div><div class="ttdoc">Creates a new empty text buffer.</div></div>
<div class="ttc" id="agroup__text-buffer_html_gabedbb9b1ad170e17545d2144bca1cca1"><div class="ttname"><a href="group__text-buffer.html#gabedbb9b1ad170e17545d2144bca1cca1">text_buffer_printf</a></div><div class="ttdeci">void text_buffer_printf(text_buffer_t *self, vec2 *pen,...)</div><div class="ttdoc">Print some text to the text buffer.</div></div>
<div class="ttc" id="agroup__text-buffer_html_gad0f2b6b38f8cf0933f66112ff4d4118b"><div class="ttname"><a href="group__text-buffer.html#gad0f2b6b38f8cf0933f66112ff4d4118b">text_buffer_delete</a></div><div class="ttdeci">void text_buffer_delete(text_buffer_t *self)</div><div class="ttdoc">Deletes texture buffer and its associated vertex buffer.</div></div>
<div class="ttc" id="agroup__texture-atlas_html_gafc00ed05e30dd34ed70f6d775e441845"><div class="ttname"><a href="group__texture-atlas.html#gafc00ed05e30dd34ed70f6d775e441845">texture_atlas_clear</a></div><div class="ttdeci">void texture_atlas_clear(texture_atlas_t *self)</div><div class="ttdoc">Remove all allocated regions from the atlas.</div></div>
<div class="ttc" id="agroup__texture-font_html_ga329116810bb25cd8964430f5477d90d6"><div class="ttname"><a href="group__texture-font.html#ga329116810bb25cd8964430f5477d90d6">texture_font_new_from_file</a></div><div class="ttdeci">texture_font_t * texture_font_new_from_file(texture_atlas_t *atlas, const float pt_size, const char *filename)</div><div class="ttdoc">This function creates a new texture font from given filename and size.</div></div>
<div class="ttc" id="agroup__texture-font_html_gaa894ab1def90197eaad58b578e7a2440"><div class="ttname"><a href="group__texture-font.html#gaa894ab1def90197eaad58b578e7a2440">texture_font_delete</a></div><div class="ttdeci">void texture_font_delete(texture_font_t *self)</div><div class="ttdoc">Delete a texture font.</div></div>
<div class="ttc" id="agroup__vector_html_ga0103842074bb797fc685b33c0629c05a"><div class="ttname"><a href="group__vector.html#ga0103842074bb797fc685b33c0629c05a">vector_size</a></div><div class="ttdeci">size_t vector_size(const vector_t *self)</div><div class="ttdoc">Returns the number of items.</div></div>
<div class="ttc" id="agroup__vector_html_gad9f12b6dade3126fa6782d6afb4fe8d4"><div class="ttname"><a href="group__vector.html#gad9f12b6dade3126fa6782d6afb4fe8d4">vector_get</a></div><div class="ttdeci">const void * vector_get(const vector_t *self, size_t index)</div><div class="ttdoc">Returns a pointer to the item located at specified index.</div></div>
<div class="ttc" id="agroup__vertex-buffer_html_ga15748e713c679f8a8cc1c4292a044049"><div class="ttname"><a href="group__vertex-buffer.html#ga15748e713c679f8a8cc1c4292a044049">vertex_buffer_render</a></div><div class="ttdeci">void vertex_buffer_render(vertex_buffer_t *self, GLenum mode)</div><div class="ttdoc">Render vertex buffer.</div></div>
<div class="ttc" id="amarkup_8h_html"><div class="ttname"><a href="markup_8h.html">markup.h</a></div></div>
<div class="ttc" id="astructfont__manager__t_html"><div class="ttname"><a href="structfont__manager__t.html">font_manager_t</a></div><div class="ttdoc">Structure in charge of caching fonts.</div><div class="ttdef"><b>Definition:</b> font-manager.h:50</div></div>
<div class="ttc" id="astructfont__manager__t_html_afb6df9aee63801e4ac643d1d6bd4c452"><div class="ttname"><a href="structfont__manager__t.html#afb6df9aee63801e4ac643d1d6bd4c452">font_manager_t::atlas</a></div><div class="ttdeci">texture_atlas_t * atlas</div><div class="ttdoc">Texture atlas to hold font glyphs.</div><div class="ttdef"><b>Definition:</b> font-manager.h:54</div></div>
<div class="ttc" id="astructglyph__vertex__t_html"><div class="ttname"><a href="structglyph__vertex__t.html">glyph_vertex_t</a></div><div class="ttdoc">Glyph vertex structure.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:111</div></div>
<div class="ttc" id="astructglyph__vertex__t_html_a3144c24728ef9455facb38874a59e613"><div class="ttname"><a href="structglyph__vertex__t.html#a3144c24728ef9455facb38874a59e613">glyph_vertex_t::x</a></div><div class="ttdeci">float x</div><div class="ttdoc">Vertex x coordinates.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:115</div></div>
<div class="ttc" id="astructglyph__vertex__t_html_aadf4dd4b66e92b7cf7d518f55a31475b"><div class="ttname"><a href="structglyph__vertex__t.html#aadf4dd4b66e92b7cf7d518f55a31475b">glyph_vertex_t::shift</a></div><div class="ttdeci">float shift</div><div class="ttdoc">Shift along x.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:160</div></div>
<div class="ttc" id="astructglyph__vertex__t_html_af619460c34acc4ef05987e7ab94b0827"><div class="ttname"><a href="structglyph__vertex__t.html#af619460c34acc4ef05987e7ab94b0827">glyph_vertex_t::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">Vertex y coordinates.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:120</div></div>
<div class="ttc" id="astructmarkup__t_html"><div class="ttname"><a href="structmarkup__t.html">markup_t</a></div><div class="ttdoc">Simple structure that describes text properties.</div><div class="ttdef"><b>Definition:</b> markup.h:64</div></div>
<div class="ttc" id="astructmarkup__t_html_a5c61d3d8f7da003b885a413780240318"><div class="ttname"><a href="structmarkup__t.html#a5c61d3d8f7da003b885a413780240318">markup_t::font</a></div><div class="ttdeci">texture_font_t * font</div><div class="ttdoc">Pointer on the corresponding font (family/size/bold/italic)</div><div class="ttdef"><b>Definition:</b> markup.h:148</div></div>
<div class="ttc" id="astructmarkup__t_html_adcb67782935faf6178ef7afde350ca2a"><div class="ttname"><a href="structmarkup__t.html#adcb67782935faf6178ef7afde350ca2a">markup_t::family</a></div><div class="ttdeci">char * family</div><div class="ttdoc">A font family name such as &quot;normal&quot;, &quot;sans&quot;, &quot;serif&quot; or &quot;monospace&quot;.</div><div class="ttdef"><b>Definition:</b> markup.h:68</div></div>
<div class="ttc" id="astructtext__buffer__t_html"><div class="ttname"><a href="structtext__buffer__t.html">text_buffer_t</a></div><div class="ttdoc">Text buffer structure.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:53</div></div>
<div class="ttc" id="astructtext__buffer__t_html_a1d13ea520cd74f396f67b3b3ab844c58"><div class="ttname"><a href="structtext__buffer__t.html#a1d13ea520cd74f396f67b3b3ab844c58">text_buffer_t::buffer</a></div><div class="ttdeci">vertex_buffer_t * buffer</div><div class="ttdoc">Vertex buffer.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:57</div></div>
<div class="ttc" id="astructtexture__atlas__t_html"><div class="ttname"><a href="structtexture__atlas__t.html">texture_atlas_t</a></div><div class="ttdoc">A texture atlas is used to pack several small regions into a single texture.</div><div class="ttdef"><b>Definition:</b> texture-atlas.h:77</div></div>
<div class="ttc" id="astructtexture__atlas__t_html_a03e72bd01b6e5e97c0cc032d22c11c45"><div class="ttname"><a href="structtexture__atlas__t.html#a03e72bd01b6e5e97c0cc032d22c11c45">texture_atlas_t::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdoc">Texture identity (OpenGL)</div><div class="ttdef"><b>Definition:</b> texture-atlas.h:106</div></div>
<div class="ttc" id="astructtexture__atlas__t_html_a099b3a476240070bc06248218c9e230c"><div class="ttname"><a href="structtexture__atlas__t.html#a099b3a476240070bc06248218c9e230c">texture_atlas_t::depth</a></div><div class="ttdeci">size_t depth</div><div class="ttdoc">Depth (in bytes) of the underlying texture.</div><div class="ttdef"><b>Definition:</b> texture-atlas.h:96</div></div>
<div class="ttc" id="astructtexture__atlas__t_html_a724b0e35c619f88b231eba83c39095cb"><div class="ttname"><a href="structtexture__atlas__t.html#a724b0e35c619f88b231eba83c39095cb">texture_atlas_t::height</a></div><div class="ttdeci">size_t height</div><div class="ttdoc">Height (in pixels) of the underlying texture.</div><div class="ttdef"><b>Definition:</b> texture-atlas.h:91</div></div>
<div class="ttc" id="astructtexture__atlas__t_html_a80f633ead9dbf1fb0c49503324f30753"><div class="ttname"><a href="structtexture__atlas__t.html#a80f633ead9dbf1fb0c49503324f30753">texture_atlas_t::data</a></div><div class="ttdeci">unsigned char * data</div><div class="ttdoc">Atlas data.</div><div class="ttdef"><b>Definition:</b> texture-atlas.h:111</div></div>
<div class="ttc" id="astructtexture__atlas__t_html_aa1fb802d48b70dc43e06e88f55f986aa"><div class="ttname"><a href="structtexture__atlas__t.html#aa1fb802d48b70dc43e06e88f55f986aa">texture_atlas_t::width</a></div><div class="ttdeci">size_t width</div><div class="ttdoc">Width (in pixels) of the underlying texture.</div><div class="ttdef"><b>Definition:</b> texture-atlas.h:86</div></div>
<div class="ttc" id="astructtexture__font__t_html"><div class="ttname"><a href="structtexture__font__t.html">texture_font_t</a></div><div class="ttdoc">Texture font structure.</div><div class="ttdef"><b>Definition:</b> texture-font.h:261</div></div>
<div class="ttc" id="astructtexture__font__t_html_a02135c3a35d47a9584f3fc08001cde3e"><div class="ttname"><a href="structtexture__font__t.html#a02135c3a35d47a9584f3fc08001cde3e">texture_font_t::filtering</a></div><div class="ttdeci">unsigned char filtering</div><div class="ttdoc">Whether to use our own lcd filter.</div><div class="ttdef"><b>Definition:</b> texture-font.h:317</div></div>
<div class="ttc" id="astructtexture__font__t_html_a232ba1e61f2cb37a7af1429e5c90a2b3"><div class="ttname"><a href="structtexture__font__t.html#a232ba1e61f2cb37a7af1429e5c90a2b3">texture_font_t::kerning</a></div><div class="ttdeci">unsigned char kerning</div><div class="ttdoc">Whether to use kerning if available.</div><div class="ttdef"><b>Definition:</b> texture-font.h:321</div></div>
<div class="ttc" id="astructtexture__font__t_html_a4f72a3a3dfca4fe583bfbd74d5d1d46c"><div class="ttname"><a href="structtexture__font__t.html#a4f72a3a3dfca4fe583bfbd74d5d1d46c">texture_font_t::hinting</a></div><div class="ttdeci">unsigned char hinting</div><div class="ttdoc">Whether to use autohint when rendering font.</div><div class="ttdef"><b>Definition:</b> texture-font.h:326</div></div>
<div class="ttc" id="astructtexture__font__t_html_a6d2347450ec91e7148d211b21aed05d4"><div class="ttname"><a href="structtexture__font__t.html#a6d2347450ec91e7148d211b21aed05d4">texture_font_t::lcd_weights</a></div><div class="ttdeci">unsigned char lcd_weights[5]</div><div class="ttdoc">LCD filter weights.</div><div class="ttdef"><b>Definition:</b> texture-font.h:336</div></div>
<div class="ttc" id="astructtexture__font__t_html_a8bd92ddb4c8e456aac6a21f6c268b360"><div class="ttname"><a href="structtexture__font__t.html#a8bd92ddb4c8e456aac6a21f6c268b360">texture_font_t::height</a></div><div class="ttdeci">float height</div><div class="ttdoc">This field is simply used to compute a default line spacing (i.e., the baseline-to-baseline distance)...</div><div class="ttdef"><b>Definition:</b> texture-font.h:345</div></div>
<div class="ttc" id="astructvertex__buffer__t_html"><div class="ttname"><a href="structvertex__buffer__t.html">vertex_buffer_t</a></div><div class="ttdoc">Generic vertex buffer.</div><div class="ttdef"><b>Definition:</b> vertex-buffer.h:36</div></div>
<div class="ttc" id="astructvertex__buffer__t_html_a54efd077fb2990b3679d060baaa021ec"><div class="ttname"><a href="structvertex__buffer__t.html#a54efd077fb2990b3679d060baaa021ec">vertex_buffer_t::vertices</a></div><div class="ttdeci">vector_t * vertices</div><div class="ttdoc">Vector of vertices.</div><div class="ttdef"><b>Definition:</b> vertex-buffer.h:41</div></div>
<div class="ttc" id="astructvertex__buffer__t_html_aba48b4d0cd079739d4a89d3c3f29a187"><div class="ttname"><a href="structvertex__buffer__t.html#aba48b4d0cd079739d4a89d3c3f29a187">vertex_buffer_t::items</a></div><div class="ttdeci">vector_t * items</div><div class="ttdoc">Individual items.</div><div class="ttdef"><b>Definition:</b> vertex-buffer.h:70</div></div>
<div class="ttc" id="atext-buffer_8h_html"><div class="ttname"><a href="text-buffer_8h.html">text-buffer.h</a></div></div>
<div class="ttc" id="atext-buffer_8h_html_abd50406866c6d3953be0f0203dc6da6b"><div class="ttname"><a href="text-buffer_8h.html#abd50406866c6d3953be0f0203dc6da6b">LCD_FILTERING_OFF</a></div><div class="ttdeci">#define LCD_FILTERING_OFF</div><div class="ttdoc">Do not use LCD filtering.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:28</div></div>
<div class="ttc" id="atext-buffer_8h_html_aeb06e08fcb145b25caf33204ae04c7b7"><div class="ttname"><a href="text-buffer_8h.html#aeb06e08fcb145b25caf33204ae04c7b7">LCD_FILTERING_ON</a></div><div class="ttdeci">#define LCD_FILTERING_ON</div><div class="ttdoc">Use LCD filtering.</div><div class="ttdef"><b>Definition:</b> text-buffer.h:23</div></div>
<div class="ttc" id="aunionivec4_html"><div class="ttname"><a href="unionivec4.html">ivec4</a></div><div class="ttdoc">Tuple of 4 ints.</div><div class="ttdef"><b>Definition:</b> vec234.h:26</div></div>
<div class="ttc" id="aunionivec4_html_ab87cbb6ef39b1e8a38ad067e69685035"><div class="ttname"><a href="unionivec4.html#ab87cbb6ef39b1e8a38ad067e69685035">ivec4::vstart</a></div><div class="ttdeci">int vstart</div><div class="ttdoc">Alias for first component</div><div class="ttdef"><b>Definition:</b> vec234.h:53</div></div>
<div class="ttc" id="aunionvec2_html"><div class="ttname"><a href="unionvec2.html">vec2</a></div><div class="ttdoc">Tuple of 2 floats.</div><div class="ttdef"><b>Definition:</b> vec234.h:193</div></div>
<div class="ttc" id="aunionvec2_html_a002d3519d48fe3cd79729b5b0ded74bf"><div class="ttname"><a href="unionvec2.html#a002d3519d48fe3cd79729b5b0ded74bf">vec2::x</a></div><div class="ttdeci">float x</div><div class="ttdoc">Alias for first component</div><div class="ttdef"><b>Definition:</b> vec234.h:196</div></div>
<div class="ttc" id="aunionvec2_html_a6d28b12b511da692550fc9d37b4e9b1d"><div class="ttname"><a href="unionvec2.html#a6d28b12b511da692550fc9d37b4e9b1d">vec2::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">Alias for second component.</div><div class="ttdef"><b>Definition:</b> vec234.h:197</div></div>
<div class="ttc" id="aunionvec4_html"><div class="ttname"><a href="unionvec4.html">vec4</a></div><div class="ttdoc">Tuple of 4 floats.</div><div class="ttdef"><b>Definition:</b> vec234.h:127</div></div>
<div class="ttc" id="avertex-buffer_8h_html"><div class="ttname"><a href="vertex-buffer_8h.html">vertex-buffer.h</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div>
</body>
</html>
